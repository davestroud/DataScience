---
title: "Unit10Homework"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
# General-purpose data wrangling
library(tidyverse)  
# Parsing of HTML/XML files  
library(rvest)    
# String manipulation
library(stringr)   
# Verbose regular expressions
library(rebus)     
# Eases DateTime manipulation
library(lubridate)
# Easier way to use count
library(plyr)
```

### 1. Mental Health Clinics 
```{r}
# a. Load the dataset
load("/Users/davidstroud/Dropbox/Data_Science1/DataScienceSMU/Homework/Unit10/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda")
```

```{r}
# b.Create code which lists the State abbreviations without their counts
va<- (levels(mh2015_puf$LST))
head(va)
```


```{r}
va <-count(mh2015_puf$LST)
head(va)
```

```{r}
# Remove all VA centers not on mainland
va_med_ctr = va[-c(1,13,14,42,50),]
str(va_med_ctr)
```



```{r}va_med_ctr <- rename(va_med_ctr, c("x"= "Abbrev"))
head(va_med_ctr)
ggplot(data=va_med_ctr, aes(x=x, y=freq)) +
  geom_bar(stat="identity", fill="steelblue")+
  theme_economist() + 
  scale_color_economist()+
  theme(axis.text.x=element_text(size=rel(0.7), angle=90)) +
  ggtitle("VA Centers in Mainland US") +
  theme(plot.title = element_text(hjust = 0.5))+
  labs(x="State Name",y="Number of VA Facilities")
```

### 2. Cleaning and Bringing in New Features
```{r}
# a. Read statesize.csv into your R environment
statesize <-read.csv("statesize.csv")
str(statesize)
```


```{r}
va_med_ctr <- rename(va_med_ctr, c("x"= "Abbrev"))
head(va_med_ctr)
```


```{r}
tempdata <- merge(va_med_ctr, statesize, by="Abbrev", all.y=TRUE)
```

```{r}
# c. Calculate a new variable in your combined data.frame() which indicates the VA hospitals per thousand square miles
```


